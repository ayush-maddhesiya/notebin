import test = require('blue-tape')
import {TEST_CONFIG_FILE} from './test'
import {connect} from './index'

test('connect', async function(t) {
  const b2 = await connect(TEST_CONFIG_FILE)
  t.equal(b2.name, 'B2 Documentation', 'name')
})

test('B2.entry', async function(t) {
  const b2 = await connect(TEST_CONFIG_FILE)
  t.throws(() => {
    b2.entry('FAKE')
  })

  const test = b2.entry('SDK Test')
  const product = test.schema.handle('product')
  const s = await product.getSchema()
  t.equal(s.name, 'Product')
})